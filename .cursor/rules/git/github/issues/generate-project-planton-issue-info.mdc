---
description: Generate a GitHub issue title and detailed Markdown issue body as exactly two copyable code blocks (ask-only). Follows Project Planton issue conventions with deployment-component-aware labeling.
globs:
alwaysApply: false
---

# Rule: GitHub Issue Title and Description (ask-only)

Purpose: When asked to write a GitHub issue title and description, respond with exactly two copyable code blocks â€” first the title, then the description â€” without making any repository changes.

This rule is designed for ask mode only. Do not modify files, run commands, or propose edits. Output only the two fenced code blocks described below.

Usage: In Ask mode, invoke explicitly as `@generate-project-planton-issue-info`.

## How to respond (strict)
1) First block: Issue Title
   - Fenced code block with language: `text`
   - Single line only
   - Clear, descriptive, and specific
   - Start with an action verb or problem statement
   - Include key component/area if relevant
   - â‰¤ 100 characters
   - No trailing period

2) Second block: Issue Description
   - Fenced code block with language: `markdown`
   - Use the following sections when applicable. Omit any that are not relevant.
     - **Problem Summary**: 2-3 sentences describing the issue clearly
     - **Steps to Reproduce**: Numbered steps to reproduce (for bugs)
     - **Expected Behavior**: What should happen
     - **Actual Behavior**: What actually happens
     - **Root Cause Analysis**: Technical investigation findings (if known)
     - **Affected Components**: List of impacted files/modules with GitHub links
     - **Potential Solutions**: Proposed approaches to fix
     - **Acceptance Criteria**: Clear conditions for closure
     - **Priority/Severity**: P0-P3, Critical/High/Medium/Low
     - **Additional Notes**: Any other relevant context
     - **Testing Checklist**: Verification steps
     - **Related Issues/PRs**: Links to related work

## Title format (examples)

```text
Postgres deployment component spec validation broken for port conflicts
```

```text
CLI manifest validate command missing validation rules
```

```text
Forge system generates incorrect Pulumi import paths for nested packages
```

## Title guidelines
- **For Bugs**: Start with the symptom or component: "Postgres component validation broken...", "CLI fails when..."
- **For Features**: Start with action verb: "Add manifest validation command...", "Enable users to..."
- **For Improvements**: Start with area: "Improve Pulumi code generation...", "Enhance deployment component validation..."
- **For Tasks**: Be specific: "Migrate to Pulumi 4.x", "Update protobuf dependencies"

## Description structure

### For Bug Reports
Use this template:
```markdown
## ğŸ› Problem Summary
<2-3 sentences describing the bug clearly>

## ğŸ“¸ Visual Evidence / Screenshots
<If applicable, describe or reference screenshots>

## ğŸ” Steps to Reproduce
1. Navigate to...
2. Run command...
3. Observe...

## âœ… Expected Behavior
<What should happen>

## âŒ Actual Behavior
<What actually happens>

## ğŸ”¬ Root Cause Analysis
<Technical investigation findings with data flow, affected code, etc.>

### Data Flow
<Sequence diagram or text description of data flow>

### The Problem
<Detailed explanation with numbered points>

## ğŸ“‚ Affected Files
<List files with clickable GitHub links using format:>
- **File**: [`path/to/file.go`](https://github.com/plantonhq/project-planton/blob/main/path/to/file.go#L10-L20)
  - **Lines**: 10-20
  - **Status**: âœ… Working / âŒ Broken / âš ï¸ Issue Here

## ğŸ”§ Potential Solutions
### Solution 1: <Name> (Recommended/Alternative)
<Description with code examples>

### Solution 2: <Name>
<Description with code examples>

## ğŸ§ª Testing Checklist
- [ ] Test case 1
- [ ] Test case 2
- [ ] Validation tests
- [ ] Edge cases covered

## ğŸ¯ Acceptance Criteria
1. âœ… Criterion 1
2. âœ… Criterion 2
3. âœ… Criterion 3

## ğŸ“Š Data Structure Reference
<If relevant, include expected data structures>

## ğŸ“ Additional Notes
- Priority: P0 - Critical / P1 - High / P2 - Medium / P3 - Low
- Severity: Blocks core functionality / Degraded experience / Minor issue
- Affected Users: All users / Specific user segment
- Environment: Production / Development

## ğŸ”— Related Issues/PRs
- Closes #123
- Related to #456
- Depends on #789

---
**Reporter**: <Name/Team>  
**Priority**: P0-P3  
**Severity**: Critical/High/Medium/Low  
**Labels**: `bug`, `area/deployment-component`, `priority/high`
```

### For Feature Requests
Use this template:
```markdown
## ğŸ¯ Feature Summary
<2-3 sentences describing the feature>

## ğŸ¨ User Story
As a [user type], I want to [action] so that [benefit].

## ğŸ’¡ Context / Motivation
<Why this feature is needed, business value, user pain points>

## ğŸ“‹ Requirements
### Functional Requirements
- Requirement 1
- Requirement 2

### Non-Functional Requirements
- Performance: <criteria>
- Security: <criteria>
- Compatibility: <criteria>

## ğŸ¨ Proposed Design
### CLI Interface
<If applicable, show command syntax>

### API Design
<If applicable, show proto definitions or API signatures>

### Data Model Changes
<If applicable, show schema changes>

## ğŸ› ï¸ Implementation Plan
1. **Phase 1**: <Description>
   - Task 1
   - Task 2
2. **Phase 2**: <Description>
   - Task 3
   - Task 4

## ğŸ“‚ Files to Create/Modify
- `path/to/file1.go` - <Purpose>
- `path/to/file2.proto` - <Purpose>

## ğŸ§ª Testing Strategy
- Unit tests for...
- Integration tests for...
- E2E tests for...

## ğŸ¯ Acceptance Criteria
- [ ] Users can...
- [ ] System performs...
- [ ] Documentation updated
- [ ] Tests added

## ğŸ“ Additional Notes
- Priority: P0-P3
- Estimated effort: <S/M/L/XL>
- Dependencies: <List>

## ğŸ”— Related Issues/PRs
- Related to #123

---
**Requested by**: <Name/Team>  
**Priority**: P1 - High  
**Labels**: `enhancement`, `area/cli`, `needs-design`
```

### For Tasks/Chores
Use this template:
```markdown
## ğŸ“‹ Task Summary
<Description of the task>

## ğŸ¯ Objective
<Why this task is needed>

## âœ… Task List
- [ ] Subtask 1
- [ ] Subtask 2
- [ ] Subtask 3

## ğŸ“‚ Affected Areas
- Component/file 1
- Component/file 2

## ğŸ¯ Completion Criteria
- [ ] All subtasks completed
- [ ] Tests pass
- [ ] Documentation updated

## ğŸ“ Notes
<Any additional context>

---
**Priority**: P2 - Medium  
**Labels**: `chore`, `area/tooling`
```

## How to infer sections to include
- **For Bugs**: Always include Problem Summary, Steps to Reproduce, Expected/Actual Behavior, Acceptance Criteria
- **For Features**: Always include Feature Summary, User Story, Requirements, Acceptance Criteria
- **For Root Cause Issues**: Include detailed Root Cause Analysis with data flow diagrams, affected files with GitHub links, multiple solution approaches
- **For Simple Tasks**: Keep it concise with just summary, task list, and completion criteria

## Project Planton-aware label inference
Infer appropriate labels based on affected files:

### Area Labels
- `apis/org/project_planton/provider/**` â†’ `area/deployment-component`, `area/<provider>`
- `cmd/project-planton/**` â†’ `area/cli`
- `pkg/**` â†’ `area/pkg`, `area/<package-name>`
- `internal/**` â†’ `area/cli`, `area/internal`
- `apis/**` (general) â†’ `area/apis`
- `tools/**` â†’ `area/tooling`
- `.cursor/rules/deployment-component/forge/**` â†’ `area/forge`
- `site/**` â†’ `area/site`
- `docs/**` â†’ `area/docs`

### Type Labels
- Bug reports â†’ `bug`, `type/bug`
- Feature requests â†’ `enhancement`, `feature`, `type/feature`
- Performance issues â†’ `performance`, `type/perf`
- Documentation â†’ `docs`, `type/docs`
- Infrastructure â†’ `infrastructure`, `type/infra`
- Security â†’ `security`, `type/security`

### Priority Labels
- Blocks core functionality â†’ `priority/critical`, `P0`
- High impact â†’ `priority/high`, `P1`
- Medium impact â†’ `priority/medium`, `P2`
- Low impact â†’ `priority/low`, `P3`

### Status Labels
- `needs-investigation` - Requires root cause analysis
- `needs-design` - Requires design/specification
- `needs-discussion` - Requires team discussion
- `good-first-issue` - Suitable for new contributors
- `help-wanted` - Looking for volunteers

### Component-Specific Labels
- Kubernetes providers â†’ `kubernetes`
- AWS providers â†’ `aws`
- GCP providers â†’ `gcp`
- Azure providers â†’ `azure`
- Pulumi-related â†’ `pulumi`
- Terraform-related â†’ `terraform`

## Inputs to use when generating
- The conversation history and investigation context
- File paths explored to infer area labels
- Severity of the issue from user's description
- Root cause analysis findings
- Code snippets and data structures discussed

If context is insufficient to infer details, choose the best effort labels and structure. Do not ask questions; still produce both blocks.

## Output blocks (exactly two, nothing else)

```text
<Clear, descriptive issue title>
```

```markdown
[Appropriate issue template filled with context from conversation]
```

## Best Practices

### Title Crafting
- Be specific: "Postgres component validation broken for port conflicts" not "Validation broken"
- Include component: "CLI manifest validate command missing" not "Command missing"
- State symptom clearly: "Forge generates incorrect import paths" not "Import issue"

### Description Quality
- **Show, Don't Tell**: Include actual commands, file paths, code snippets
- **Link Everything**: Use GitHub file links with line numbers
- **Provide Context**: Explain the user journey and impact
- **Multiple Solutions**: Offer 2-3 potential approaches with trade-offs
- **Clear Acceptance**: Make it obvious when issue is resolved

### GitHub Link Format
Always use this format for file references:
```markdown
[`path/to/file.go#L10-L20`](https://github.com/plantonhq/project-planton/blob/main/path/to/file.go#L10-L20)
```

### Visual Enhancements
- Use emojis for section headers (ğŸ› ğŸ” âœ… âŒ ğŸ”§ ğŸ§ª ğŸ¯)
- Use checkboxes for actionable items
- Use status indicators: âœ… âŒ âš ï¸
- Use code blocks for data structures and examples
- Use markdown tables for comparison data

## Remember
- Keep language professional but accessible
- Write for developers who will implement the fix
- Include enough detail to be actionable
- Link to relevant documentation or examples
- Make priority and severity explicit
- Provide clear success criteria

@understand-cursor-rules
