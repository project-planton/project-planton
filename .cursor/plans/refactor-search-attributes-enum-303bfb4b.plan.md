<!-- 303bfb4b-6838-46e2-9fc1-540159b5faf4 b6a44d8f-67c9-47af-a8ee-16d125d36ae0 -->
# Refactor Temporal Search Attributes from Enum to String

## Changes Required

### 1. Update Protobuf Contract

**File**: `/Users/suresh/scm/github.com/project-planton/project-planton/apis/project/planton/provider/kubernetes/workload/temporalkubernetes/v1/spec.proto`

- Remove the `TemporalKubernetesSearchAttributeType` enum (lines 24-49)
- Update `TemporalKubernetesSearchAttribute` message (lines 52-58):
- Change `type` field from enum to string with validation
- Add validation constraint to only allow: "Keyword", "Text", "Int", "Double", "Bool", "Datetime", "KeywordList"
- Add `version` field to `TemporalKubernetesSpec` as optional string (after line 84, before closing brace)

### 2. Update Pulumi Module

**File**: `/Users/suresh/scm/github.com/project-planton/project-planton/apis/project/planton/provider/kubernetes/workload/temporalkubernetes/v1/iac/pulumi/module/helm_chart.go`

- Remove the `mapSearchAttributeType()` function (lines 202-222)
- Update the search attributes processing logic (lines 157-181):
- Use `attr.Type` directly as a string instead of calling `mapSearchAttributeType()`
- Update Helm chart version field in values if version is specified in spec

**File**: `/Users/suresh/scm/github.com/project-planton/project-planton/apis/project/planton/provider/kubernetes/workload/temporalkubernetes/v1/iac/pulumi/module/variables.go`

- Keep as-is (HelmChartVersion remains as default, can be overridden by spec.version if provided)

### 3. Update Documentation

**File**: `/Users/suresh/scm/github.com/project-planton/project-planton/apis/project/planton/provider/kubernetes/workload/temporalkubernetes/v1/examples.md`

- Update Example 6 (lines 176-190):
- Change `type: keyword` to `type: Keyword`
- Change `type: int` to `type: Int`
- Change `type: double` to `type: Double`
- Change `type: bool` to `type: Bool`
- Change `type: datetime` to `type: Datetime`
- Change `type: keyword_list` to `type: KeywordList`
- Optionally add a new example showing version field usage

### 4. Verify Other Documentation

Search for and update any other `.md` files in the temporal kubernetes directory that reference the old enum values.

## Notes

- Generated stubs (Go, Java, Python) will be regenerated by the user after proto changes
- The Pulumi module will automatically work with string values matching Temporal's official naming
- This change makes the API more intuitive and avoids conflicts with programming language keywords

### To-dos

- [ ] Remove enum, update TemporalKubernetesSearchAttribute to use validated string, add version field to spec
- [ ] Remove mapSearchAttributeType function, update helm_chart.go to use string directly, handle version field
- [ ] Update examples.md to use Temporal's official case (Keyword, Int, Double, Bool, Datetime, KeywordList)
- [ ] Search for and update any other documentation files referencing the enum