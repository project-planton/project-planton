// @generated by protoc-gen-es v2.2.2 with parameter "target=ts"
// @generated from file org/project_planton/provider/aws/awsec2instance/v1/spec.proto (package org.project_planton.provider.aws.awsec2instance.v1, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage } from "@bufbuild/protobuf/codegenv1";
import { enumDesc, fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv1";
import { file_buf_validate_validate } from "../../../../../../buf/validate/validate_pb";
import type { StringValueOrRef } from "../../../../shared/foreignkey/v1/foreign_key_pb";
import { file_org_project_planton_shared_foreignkey_v1_foreign_key } from "../../../../shared/foreignkey/v1/foreign_key_pb";
import { file_org_project_planton_shared_options_options } from "../../../../shared/options/options_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file org/project_planton/provider/aws/awsec2instance/v1/spec.proto.
 */
export const file_org_project_planton_provider_aws_awsec2instance_v1_spec: GenFile = /*@__PURE__*/
  fileDesc("Cj1vcmcvcHJvamVjdF9wbGFudG9uL3Byb3ZpZGVyL2F3cy9hd3NlYzJpbnN0YW5jZS92MS9zcGVjLnByb3RvEjJvcmcucHJvamVjdF9wbGFudG9uLnByb3ZpZGVyLmF3cy5hd3NlYzJpbnN0YW5jZS52MSLCCwoSQXdzRWMySW5zdGFuY2VTcGVjEiEKDWluc3RhbmNlX25hbWUYASABKAlCCrpIB8gBAXICEAESIQoGYW1pX2lkGAIgASgJQhG6SA7IAQFyCRABMgVeYW1pLRIhCg1pbnN0YW5jZV90eXBlGAMgASgJQgq6SAfIAQFyAhABEn8KCXN1Ym5ldF9pZBgEIAEoCzI6Lm9yZy5wcm9qZWN0X3BsYW50b24uc2hhcmVkLmZvcmVpZ25rZXkudjEuU3RyaW5nVmFsdWVPclJlZkIwukgDyAEBiNRh2AGS1GEhc3RhdHVzLm91dHB1dHMucHJpdmF0ZV9zdWJuZXRzLmlkEowBChJzZWN1cml0eV9ncm91cF9pZHMYBSADKAsyOi5vcmcucHJvamVjdF9wbGFudG9uLnNoYXJlZC5mb3JlaWdua2V5LnYxLlN0cmluZ1ZhbHVlT3JSZWZCNLpICMgBAZIBAggBiNRh1wGS1GEgc3RhdHVzLm91dHB1dHMuc2VjdXJpdHlfZ3JvdXBfaWQSgwEKEWNvbm5lY3Rpb25fbWV0aG9kGAYgASgOMlIub3JnLnByb2plY3RfcGxhbnRvbi5wcm92aWRlci5hd3MuYXdzZWMyaW5zdGFuY2UudjEuQXdzRWMySW5zdGFuY2VDb25uZWN0aW9uTWV0aG9kQg+6SAWCAQIQAYqmHQNTU01IAIgBARJ+ChhpYW1faW5zdGFuY2VfcHJvZmlsZV9hcm4YByABKAsyOi5vcmcucHJvamVjdF9wbGFudG9uLnNoYXJlZC5mb3JlaWdua2V5LnYxLlN0cmluZ1ZhbHVlT3JSZWZCIIjUYdABktRhF3N0YXR1cy5vdXRwdXRzLnJvbGVfYXJuEhAKCGtleV9uYW1lGAggASgJEi8KE3Jvb3Rfdm9sdW1lX3NpemVfZ2IYCSABKAVCDbpIBBoCIACKph0CMzBIAYgBARJeCgR0YWdzGAogAygLMlAub3JnLnByb2plY3RfcGxhbnRvbi5wcm92aWRlci5hd3MuYXdzZWMyaW5zdGFuY2UudjEuQXdzRWMySW5zdGFuY2VTcGVjLlRhZ3NFbnRyeRIcCgl1c2VyX2RhdGEYCyABKAlCCbpIBnIEKICAAhIVCg1lYnNfb3B0aW1pemVkGAwgASgIEh8KF2Rpc2FibGVfYXBpX3Rlcm1pbmF0aW9uGA0gASgIGisKCVRhZ3NFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBOtgDukjUAxqQAgoYc3NtX3JlcXVpcmVzX2lhbV9wcm9maWxlEkJpYW1faW5zdGFuY2VfcHJvZmlsZV9hcm4gbXVzdCBiZSBzZXQgd2hlbiBjb25uZWN0aW9uX21ldGhvZCBpcyBTU00arwF0aGlzLmNvbm5lY3Rpb25fbWV0aG9kID09IDAgPyAoKGhhcyh0aGlzLmlhbV9pbnN0YW5jZV9wcm9maWxlX2Fybi52YWx1ZSkgJiYgdGhpcy5pYW1faW5zdGFuY2VfcHJvZmlsZV9hcm4udmFsdWUgIT0gIiIpIHx8IGhhcyh0aGlzLmlhbV9pbnN0YW5jZV9wcm9maWxlX2Fybi52YWx1ZV9mcm9tKSkgOiB0cnVlGr4BChVzc2hfcmVxdWlyZXNfa2V5X25hbWUSSmtleV9uYW1lIG11c3QgYmUgc2V0IHdoZW4gY29ubmVjdGlvbl9tZXRob2QgaXMgQkFTVElPTiBvciBJTlNUQU5DRV9DT05ORUNUGlkodGhpcy5jb25uZWN0aW9uX21ldGhvZCA9PSAxIHx8IHRoaXMuY29ubmVjdGlvbl9tZXRob2QgPT0gMikgPyB0aGlzLmtleV9uYW1lICE9ICIiIDogdHJ1ZUIUChJfY29ubmVjdGlvbl9tZXRob2RCFgoUX3Jvb3Rfdm9sdW1lX3NpemVfZ2IqTAoeQXdzRWMySW5zdGFuY2VDb25uZWN0aW9uTWV0aG9kEgcKA1NTTRAAEgsKB0JBU1RJT04QARIUChBJTlNUQU5DRV9DT05ORUNUEAJCowMKNmNvbS5vcmcucHJvamVjdF9wbGFudG9uLnByb3ZpZGVyLmF3cy5hd3NlYzJpbnN0YW5jZS52MUIJU3BlY1Byb3RvUAFac2dpdGh1Yi5jb20vcHJvamVjdC1wbGFudG9uL3Byb2plY3QtcGxhbnRvbi9hcGlzL29yZy9wcm9qZWN0X3BsYW50b24vcHJvdmlkZXIvYXdzL2F3c2VjMmluc3RhbmNlL3YxO2F3c2VjMmluc3RhbmNldjGiAgVPUFBBQaoCMU9yZy5Qcm9qZWN0UGxhbnRvbi5Qcm92aWRlci5Bd3MuQXdzZWMyaW5zdGFuY2UuVjHKAjFPcmdcUHJvamVjdFBsYW50b25cUHJvdmlkZXJcQXdzXEF3c2VjMmluc3RhbmNlXFYx4gI9T3JnXFByb2plY3RQbGFudG9uXFByb3ZpZGVyXEF3c1xBd3NlYzJpbnN0YW5jZVxWMVxHUEJNZXRhZGF0YeoCNk9yZzo6UHJvamVjdFBsYW50b246OlByb3ZpZGVyOjpBd3M6OkF3c2VjMmluc3RhbmNlOjpWMWIGcHJvdG8z", [file_buf_validate_validate, file_org_project_planton_shared_foreignkey_v1_foreign_key, file_org_project_planton_shared_options_options]);

/**
 * AwsEc2InstanceSpec defines the user configuration for launching a single EC2 virtual machine instance in a private subnet.
 * It encapsulates essential parameters like the AMI ID, instance type, networking and security settings, and connectivity method (SSM or SSH).
 * The spec follows the 80/20 rule, exposing only the most commonly needed fields for a typical production scenario.
 * This includes specifying the target subnet (usually a private subnet in an existing VPC) and security groups for networking,
 * selecting an AMI and instance type for the VM, and choosing a connection method (Session Manager or SSH) which determines
 * required fields for access (either an IAM instance profile for SSM or an SSH key pair).
 * Optional fields cover user data scripts and instance-level configurations like EBS optimization and termination protection.
 * By keeping the API minimal and focused, this resource can be easily composed with other resources (like VPCs, security groups, and IAM roles)
 * to deploy an EC2 instance according to typical infrastructure patterns.
 *
 * @generated from message org.project_planton.provider.aws.awsec2instance.v1.AwsEc2InstanceSpec
 */
export type AwsEc2InstanceSpec = Message<"org.project_planton.provider.aws.awsec2instance.v1.AwsEc2InstanceSpec"> & {
  /**
   * name of the EC2 instance.
   *
   * @generated from field: string instance_name = 1;
   */
  instanceName: string;

  /**
   * Amazon Machine Image ID to use for launching the instance.
   * This is the unique identifier of the OS image (AMI) that the EC2 will run.
   * Example: "ami-0abcdef1234567890" for an Ubuntu or Amazon Linux image.
   *
   * @generated from field: string ami_id = 2;
   */
  amiId: string;

  /**
   * EC2 instance type (flavor) determining vCPU count and memory.
   * Example: "t3.small" (2 vCPUs, 2 GiB RAM) or "m5.large" (2 vCPUs, 8 GiB RAM).
   *
   * @generated from field: string instance_type = 3;
   */
  instanceType: string;

  /**
   * Reference to the target subnet where this instance will reside.
   * This should be a private subnet within an existing VPC.
   * The default kind expects an AwsVpc resource, using one of its private subnet IDs.
   *
   * @generated from field: org.project_planton.shared.foreignkey.v1.StringValueOrRef subnet_id = 4;
   */
  subnetId?: StringValueOrRef;

  /**
   * One or more security group IDs to attach to the instance's network interface.
   * These security groups control inbound/outbound traffic for the instance.
   * Typically includes at least one security group for application or SSH access.
   *
   * @generated from field: repeated org.project_planton.shared.foreignkey.v1.StringValueOrRef security_group_ids = 5;
   */
  securityGroupIds: StringValueOrRef[];

  /**
   * Method for connecting to the instance for administration or SSH access.
   * - SSM: Use AWS Systems Manager Session Manager (no SSH key needed, requires an IAM instance profile with SSM permissions).
   * - BASTION: Use a traditional SSH method with a key pair (requires a key_name for the EC2 instance).
   * - INSTANCE_CONNECT: Use AWS EC2 Instance Connect (temporary key injection, also requires a key_name).
   *
   * @generated from field: optional org.project_planton.provider.aws.awsec2instance.v1.AwsEc2InstanceConnectionMethod connection_method = 6;
   */
  connectionMethod?: AwsEc2InstanceConnectionMethod;

  /**
   * The ARN of an IAM instance profile to attach to the EC2 instance.
   * This profile should include an IAM role with necessary permissions (for example, SSM Session Manager access if using SSM).
   * **Required if** connection_method is SSM; optional otherwise.
   *
   * @generated from field: org.project_planton.shared.foreignkey.v1.StringValueOrRef iam_instance_profile_arn = 7;
   */
  iamInstanceProfileArn?: StringValueOrRef;

  /**
   * The name of an EC2 Key Pair to associate with the instance for SSH access.
   * This is the key pair name as created in AWS (not the public key material).
   * **Required if** connection_method is BASTION or INSTANCE_CONNECT; not used for SSM.
   *
   * @generated from field: string key_name = 8;
   */
  keyName: string;

  /**
   * Size of the root EBS volume in GiB.
   * This defines the storage capacity for the instance's root filesystem.
   * Defaults to 30 GiB if not specified.
   *
   * @generated from field: optional int32 root_volume_size_gb = 9;
   */
  rootVolumeSizeGb?: number;

  /**
   * Map of tags to apply to the EC2 instance.
   * Tags are key-value pairs for metadata and organization of AWS resources (e.g., {"env": "production", "app": "web"}).
   *
   * @generated from field: map<string, string> tags = 10;
   */
  tags: { [key: string]: string };

  /**
   * User data script to provide when launching the instance (cloud-init or shell script).
   * This can be a plaintext or base64-encoded string, up to 32 KiB.
   * Use this to perform initial configuration on boot (install packages, configure software, etc.).
   *
   * @generated from field: string user_data = 11;
   */
  userData: string;

  /**
   * Enable EBS optimization for the instance (if supported by the instance type).
   * When true, the instance uses dedicated throughput for EBS I/O, which can improve performance for I/O-intensive workloads.
   *
   * @generated from field: bool ebs_optimized = 12;
   */
  ebsOptimized: boolean;

  /**
   * If true, prevents the instance from being terminated via the AWS API (enables termination protection).
   * This adds a safety measure against accidental deletion of the instance.
   *
   * @generated from field: bool disable_api_termination = 13;
   */
  disableApiTermination: boolean;
};

/**
 * Describes the message org.project_planton.provider.aws.awsec2instance.v1.AwsEc2InstanceSpec.
 * Use `create(AwsEc2InstanceSpecSchema)` to create a new message.
 */
export const AwsEc2InstanceSpecSchema: GenMessage<AwsEc2InstanceSpec> = /*@__PURE__*/
  messageDesc(file_org_project_planton_provider_aws_awsec2instance_v1_spec, 0);

/**
 * Defines the possible connection methods for accessing the EC2 instance.
 *
 * @generated from enum org.project_planton.provider.aws.awsec2instance.v1.AwsEc2InstanceConnectionMethod
 */
export enum AwsEc2InstanceConnectionMethod {
  /**
   * Use AWS Systems Manager (Session Manager) for instance access.
   * This is the default method, which does not require an SSH key but does require an IAM role for SSM.
   *
   * @generated from enum value: SSM = 0;
   */
  SSM = 0,

  /**
   * Use a bastion host or direct SSH with a key pair to access the instance.
   * Requires a key_name to be specified for the instance.
   *
   * @generated from enum value: BASTION = 1;
   */
  BASTION = 1,

  /**
   * Use AWS EC2 Instance Connect for temporary SSH key access.
   * Also requires a key_name for the instance (keys are injected on-demand).
   *
   * @generated from enum value: INSTANCE_CONNECT = 2;
   */
  INSTANCE_CONNECT = 2,
}

/**
 * Describes the enum org.project_planton.provider.aws.awsec2instance.v1.AwsEc2InstanceConnectionMethod.
 */
export const AwsEc2InstanceConnectionMethodSchema: GenEnum<AwsEc2InstanceConnectionMethod> = /*@__PURE__*/
  enumDesc(file_org_project_planton_provider_aws_awsec2instance_v1_spec, 0);

