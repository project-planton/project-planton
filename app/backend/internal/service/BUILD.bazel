load("@rules_go//go:def.bzl", "go_library")

go_library(
    name = "service",
    srcs = [
        "cloud_resource_service.go",
        "credential_resolver.go",
        "credential_service.go",
        "deployment_component_service.go",
        "stack_update_service.go",
    ],
    importpath = "github.com/project-planton/project-planton/app/backend/internal/service",
    visibility = ["//app/backend:__subpackages__"],
    deps = [
        "//apis/org/project_planton/app/cloudresource/v1:cloudresource",
        "//apis/org/project_planton/app/credential/v1:credential",
        "//apis/org/project_planton/app/stackupdate/v1:stackupdate",
        "//apis/org/project_planton/provider/atlas",
        "//apis/org/project_planton/provider/aws",
        "//apis/org/project_planton/provider/azure",
        "//apis/org/project_planton/provider/cloudflare",
        "//apis/org/project_planton/provider/confluent",
        "//apis/org/project_planton/provider/gcp",
        "//apis/org/project_planton/provider/kubernetes",
        "//apis/org/project_planton/provider/snowflake",
        "//apis/org/project_planton/shared/cloudresourcekind",
        "//app/backend/internal/database",
        "//app/backend/pkg/models",
        "//internal/manifest",
        "//pkg/crkreflect",
        "//pkg/iac/pulumi/backendconfig",
        "//pkg/iac/pulumi/pulumimodule",
        "//pkg/iac/pulumi/pulumistack",
        "//pkg/iac/stackinput",
        "//pkg/iac/stackinput/stackinputproviderconfig",
        "@com_connectrpc_connect//:connect",
        "@in_gopkg_yaml_v3//:yaml_v3",
        "@org_golang_google_protobuf//types/known/timestamppb",
        "@org_mongodb_go_mongo_driver//bson:go_default_library",
        "@org_mongodb_go_mongo_driver//bson/primitive:go_default_library",
    ],
)
