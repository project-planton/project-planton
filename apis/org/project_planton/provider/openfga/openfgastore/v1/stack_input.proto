syntax = "proto3";

package org.project_planton.provider.openfga.openfgastore.v1;

import "org/project_planton/provider/openfga/openfgastore/v1/api.proto";
import "org/project_planton/provider/openfga/provider.proto";

// OpenFgaStoreStackInput is the input message for the OpenFGA Store IaC modules.
//
// This message aggregates all information needed to deploy an OpenFGA Store:
// - The target OpenFgaStore resource specification
// - The OpenFGA provider configuration (credentials for API access)
//
// IMPORTANT: OpenFGA only has a Terraform provider. The Pulumi module is a
// pass-through placeholder that does not create resources.
//
// The Terraform module receives this as input and uses it to create/update
// the OpenFGA store via the OpenFGA API.
message OpenFgaStoreStackInput {
  // target is the OpenFgaStore resource to deploy.
  // Contains the complete specification of the desired store configuration.
  OpenFgaStore target = 1;

  // provider_config contains OpenFGA API credentials for authentication.
  // These credentials are used to authenticate with the OpenFGA server.
  //
  // The provider supports two authentication methods:
  // 1. API Token: Set api_url and api_token
  // 2. Client Credentials: Set api_url, client_id, client_secret, and api_token_issuer
  //
  // Environment variables are automatically configured:
  // - FGA_API_URL (required)
  // - FGA_API_TOKEN (for token auth)
  // - FGA_CLIENT_ID, FGA_CLIENT_SECRET, FGA_API_TOKEN_ISSUER (for client credentials)
  org.project_planton.provider.openfga.OpenFgaProviderConfig provider_config = 2;
}
