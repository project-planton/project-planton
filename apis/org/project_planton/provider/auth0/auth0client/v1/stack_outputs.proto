syntax = "proto3";

package org.project_planton.provider.auth0.auth0client.v1;

// Auth0ClientStackOutputs contains the outputs from an Auth0 Client deployment.
// These outputs provide essential identifiers and credentials for integrating
// the application with your services and Auth0 features.
//
// https://registry.terraform.io/providers/auth0/auth0/latest/docs/resources/client#attributes-reference
// https://www.pulumi.com/registry/packages/auth0/api-docs/client/#outputs
message Auth0ClientStackOutputs {
  // id is the unique identifier of the Auth0 client.
  // This is used internally by Auth0 to identify the application.
  // Format: A unique string identifier.
  string id = 1;

  // client_id is the OAuth 2.0 client identifier.
  // This is the public identifier for the application.
  // Used in authentication requests and as the "audience" for APIs.
  // This value is safe to expose in client-side code.
  string client_id = 2;

  // client_secret is the OAuth 2.0 client secret.
  // Used for authenticating the application in confidential client flows.
  // IMPORTANT: Keep this secret secure and never expose in client-side code.
  // Only available for regular_web and non_interactive application types.
  string client_secret = 3;

  // name is the name of the application.
  // Derived from metadata.name in the Auth0Client resource.
  string name = 4;

  // application_type is the type of application.
  // One of: native, spa, regular_web, non_interactive
  string application_type = 5;

  // signing_keys contains the signing keys for this client.
  // Used for RS256 token signature verification.
  // Contains certificate information for validating JWTs.
  repeated Auth0SigningKey signing_keys = 6;

  // callback_url_template indicates if callback URL templating is enabled.
  // When true, Auth0 allows parameterized callback URLs.
  bool callback_url_template = 7;

  // allowed_clients lists clients allowed to perform delegation for this client.
  // Used in legacy delegation flows.
  repeated string allowed_clients = 8;

  // global indicates if this is a global client (the tenant's default client).
  // There is only one global client per tenant.
  bool global = 9;

  // token_endpoint_auth_method is the authentication method for the token endpoint.
  // Common values: "none", "client_secret_post", "client_secret_basic", "private_key_jwt"
  string token_endpoint_auth_method = 10;
}

// Auth0SigningKey represents a signing key for the client.
message Auth0SigningKey {
  // cert is the X.509 certificate in PEM format.
  string cert = 1;

  // pkcs7 is the PKCS#7 formatted certificate chain.
  string pkcs7 = 2;

  // subject is the certificate subject.
  string subject = 3;

  // thumbprint is the SHA-1 thumbprint of the certificate.
  string thumbprint = 4;
}
