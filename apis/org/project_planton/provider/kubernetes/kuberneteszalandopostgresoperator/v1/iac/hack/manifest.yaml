apiVersion: kubernetes.project-planton.org/v1
kind: KubernetesZalandoPostgresOperator
metadata:
  name: postgres-operator
  id: pgop-dev-001
  labels:
    org: project-planton
    env: development
    team: platform
spec:
  container:
    resources:
      requests:
        cpu: 50m
        memory: 100Mi
      limits:
        cpu: 1000m
        memory: 1Gi
  # Uncomment to enable backup configuration for testing
  # backup_config:
  #   r2_config:
  #     cloudflare_account_id: "your-account-id-here"
  #     bucket_name: "postgres-backups-dev"
  #     access_key_id: "your-r2-access-key-id"
  #     secret_access_key: "your-r2-secret-access-key"
  #   backup_schedule: "0 2 * * *"
  #   s3_prefix_template: "backups/$(SCOPE)/$(PGVERSION)"
  #   enable_wal_g_backup: true
  #   enable_wal_g_restore: true
  #   enable_clone_wal_g_restore: true

