syntax = "proto3";

package org.project_planton.provider.kubernetes.kubernetesopenbao.v1;

import "org/project_planton/provider/kubernetes/kubernetes.proto";

// KubernetesOpenBaoStackOutputs captures observable outputs from the OpenBao deployment.
message KubernetesOpenBaoStackOutputs {
  // Kubernetes namespace in which OpenBao is deployed.
  string namespace = 1;

  // Kubernetes service name for OpenBao.
  string service = 2;

  // Command to set up port-forwarding to access OpenBao from a developer's laptop.
  // Useful when ingress is disabled for security reasons.
  // Example: kubectl port-forward svc/<service> -n <namespace> 8200:8200
  string port_forward_command = 3;

  // Kubernetes internal endpoint for OpenBao (FQDN).
  // Example: openbao.namespace.svc.cluster.local:8200
  string kube_endpoint = 4;

  // External hostname for OpenBao when ingress is enabled.
  // Example: openbao.example.com
  string external_hostname = 5;

  // OpenBao root token secret reference.
  // The root token is generated during initialization and stored in a Kubernetes secret.
  org.project_planton.provider.kubernetes.KubernetesSecretKey root_token_secret = 6;

  // OpenBao unseal keys secret reference.
  // Unseal keys are generated during initialization and stored in a Kubernetes secret.
  org.project_planton.provider.kubernetes.KubernetesSecretKey unseal_keys_secret = 7;

  // OpenBao cluster address for internal cluster communication (HA mode).
  // Example: https://openbao-0.openbao-internal:8201
  string cluster_address = 8;

  // OpenBao API address.
  // Example: http://openbao.namespace.svc.cluster.local:8200
  string api_address = 9;

  // Indicates if the OpenBao deployment is running in HA mode.
  // "true" if HA mode is enabled, "false" otherwise.
  string ha_enabled = 10;
}
