# Example manifest for testing KubernetesDaemonSet
apiVersion: kubernetes.project-planton.org/v1
kind: KubernetesDaemonSet
metadata:
  name: test-daemonset
spec:
  namespace:
    value: test-namespace
  create_namespace: true
  container:
    app:
      image:
        repo: busybox
        tag: latest
      resources:
        limits:
          cpu: "100m"
          memory: "128Mi"
        requests:
          cpu: "50m"
          memory: "64Mi"
      command:
        - /bin/sh
        - -c
        - while true; do echo "Hello from DaemonSet"; sleep 60; done
      ports:
        - name: http
          container_port: 8080
          network_protocol: TCP
  tolerations:
    - operator: Exists
  update_strategy:
    type: RollingUpdate
    rolling_update:
      max_unavailable: "1"

