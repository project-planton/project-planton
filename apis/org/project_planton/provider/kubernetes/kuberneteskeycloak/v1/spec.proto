syntax = "proto3";

package org.project_planton.provider.kubernetes.kuberneteskeycloak.v1;

import "org/project_planton/shared/kubernetes/kubernetes.proto";
import "org/project_planton/shared/kubernetes/options.proto";

// **KubernetesKeycloakSpec** defines the configuration for deploying Keycloak on a Kubernetes cluster.
// This message specifies the parameters needed to create and manage a Keycloak deployment within a Kubernetes environment.
// It includes container specifications and ingress settings to control resource allocation and external access.
message KubernetesKeycloakSpec {
  // The container specifications for the Keycloak deployment.
  KubernetesKeycloakContainer container = 1;

  // The ingress configuration for the Keycloak deployment.
  org.project_planton.shared.kubernetes.IngressSpec ingress = 2;
}

// **KubernetesKeycloakContainer** specifies the container configuration for the Keycloak application.
// It includes resource allocations for CPU and memory to ensure the application runs efficiently.
// Recommended defaults: CPU requests - 50m, Memory requests - 256Mi, CPU limits - 1, Memory limits - 1Gi.
message KubernetesKeycloakContainer {
  // The CPU and memory resources allocated to the Keycloak container.
  org.project_planton.shared.kubernetes.ContainerResources resources = 1 [(org.project_planton.shared.kubernetes.default_container_resources) = {
    limits: {
      cpu: "1000m"
      memory: "1Gi"
    }
    requests: {
      cpu: "50m"
      memory: "100Mi"
    }
  }];
}
